# 订阅功能使用指南

## ✅ 已实现的功能

### 1. 用户认证系统
- **登录/注册页面** (`auth.html`)
  - 邮箱密码登录
  - 社交登录（微信、Google）
  - 用户注册
  - 数据存储在 localStorage

### 2. 订阅支付页面 (`subscribe.html`)
- **支付方式**
  - 微信支付（扫码）
  - 支付宝（扫码）
  - 信用卡支付
- **订阅计划**
  - 专业版：¥29/月
  - 企业版：¥199/月
- **支付流程**
  - 选择支付方式
  - 显示二维码/表单
  - 模拟支付处理
  - 更新用户订阅状态

### 3. 用户中心 (`account.html`)
- **账户概览**
  - 当前计划显示
  - 使用统计
  - 剩余额度
- **订阅管理**
  - 查看订阅状态
  - 升级计划
  - 取消订阅
- **个人信息**
  - 用户名、邮箱
  - 注册时间
  - 删除账户

### 4. 主页集成
- **未登录状态**
  - 显示免费额度
  - 登录按钮
  - 升级按钮
- **已登录状态**
  - 显示用户头像和名字
  - 显示当前计划徽章
  - 显示使用情况
  - 点击头像进入用户中心

### 5. 使用限制
- **免费用户**
  - 每天 3 次转换
  - 最大 50MB 文件
  - 用完后弹出升级提示
- **专业版用户**
  - 无限次转换
  - 最大 500MB 文件
  - 无广告
- **企业版用户**
  - 无限次转换
  - 无文件大小限制
  - API 访问

## 🎯 用户流程

### 新用户流程
1. 访问首页 → 看到免费额度 3/3 次
2. 使用转换功能（无需登录）
3. 使用 3 次后 → 弹出升级提示
4. 点击"立即升级" → 提示需要登录
5. 前往登录/注册页面
6. 登录后 → 跳转到订阅页面
7. 选择支付方式 → 完成支付
8. 订阅成功 → 返回首页
9. 享受无限次转换

### 已登录用户流程
1. 访问首页 → 看到用户信息和计划徽章
2. 免费用户看到剩余次数
3. 付费用户看到"无限使用 ∞"
4. 点击头像 → 进入用户中心
5. 查看使用统计和订阅信息

## 💾 数据存储

使用 localStorage 存储：

### 用户数据
```javascript
{
  email: "user@example.com",
  name: "用户名",
  plan: "free" | "pro" | "enterprise",
  registerTime: "2024-01-01T00:00:00.000Z",
  subscribeTime: "2024-01-01T00:00:00.000Z",
  subscribeExpire: "2024-02-01T00:00:00.000Z"
}
```

### 使用次数
```javascript
localStorage.getItem('videoconvert_usage') // "0" - "3"
```

## 🔧 技术实现

### 前端
- 纯 HTML/CSS/JavaScript
- 无需后端服务器
- localStorage 数据持久化
- 模拟支付流程

### 支付集成（模拟）
当前是模拟实现，实际生产环境需要：
1. 集成真实支付网关（微信支付、支付宝、Stripe）
2. 后端 API 处理支付回调
3. 数据库存储用户和订阅信息
4. Webhook 处理订阅状态变更

## 📱 页面列表

1. **index.html** - 主页（转换器 + 定价）
2. **auth.html** - 登录/注册
3. **subscribe.html** - 订阅支付
4. **account.html** - 用户中心
5. **converter-working.html** - 独立转换器页面
6. **diagnose.html** - 诊断工具

## 🚀 快速测试

### 测试免费用户流程
1. 访问 http://localhost:3000
2. 直接使用转换功能 3 次
3. 第 4 次会弹出升级提示

### 测试登录注册
1. 访问 http://localhost:3000/auth.html
2. 注册新用户或登录
3. 返回首页查看用户信息

### 测试订阅流程
1. 登录后点击"升级专业版"
2. 选择支付方式
3. 点击"立即订阅"
4. 查看订阅成功提示
5. 返回首页验证无限使用

### 测试用户中心
1. 登录后点击用户头像
2. 查看账户概览
3. 查看订阅管理
4. 查看个人信息

## 🎨 UI/UX 特点

- 现代化渐变设计
- 流畅的动画效果
- 响应式布局
- 清晰的视觉层次
- 友好的错误提示
- 引导式用户流程

## 📈 下一步优化

### 后端集成
- [ ] 用户认证 API
- [ ] 支付网关集成
- [ ] 数据库存储
- [ ] 订阅管理 API
- [ ] Webhook 处理

### 功能增强
- [ ] 邮箱验证
- [ ] 密码重置
- [ ] 发票管理
- [ ] 使用历史记录
- [ ] 批量转换
- [ ] API 密钥管理

### 支付方式
- [ ] 微信支付 SDK
- [ ] 支付宝 SDK
- [ ] Stripe 集成
- [ ] PayPal 集成

## 🔒 安全考虑

当前是演示版本，生产环境需要：
1. HTTPS 加密传输
2. 后端验证所有请求
3. 安全的密码存储（哈希）
4. JWT 或 Session 认证
5. CSRF 保护
6. XSS 防护
7. 支付信息加密

---

**当前状态**: 完整的前端演示版本，包含完整的用户流程和 UI/UX
**生产就绪**: 需要后端 API 和真实支付集成
